generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model User {
  id              String      @id @default(uuid())
  username        String      @unique
  email           String      @unique
  password        String
  firstName       String
  lastName        String
  profilePicture  String?
  posts           Post[]      @relation("UserToPost")
  comments        Comment[]   @relation("UserToComment")
  followers       Follower[]  @relation("UserToFollowers")
  following       Follower[]  @relation("UserToFollowing")
}

model Post {
  id            String      @id @default(uuid())
  userId        String
  message       String
  createdAt     DateTime
  likes         Int
  comments      Int
  commentList   Comment[]
  user          User        @relation("UserToPost", fields: [userId], references: [id])
}

model Comment {
  id           String      @id @default(uuid())
  createdAt    DateTime
  message      String
  user         User        @relation("UserToComment", fields: [userId], references: [id])
  userId       String
  post         Post        @relation(fields: [postId], references: [id])
  postId       String
}

model Follower {
  id            String    @id @default(uuid())
  follower      User      @relation("UserToFollowing", fields: [followerId], references: [id])
  followerId    String
  followed      User      @relation("UserToFollowers", fields: [followedId], references: [id])
  followedId    String
}
